<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>메뉴 추천 스튜디오</title>
    <link rel="stylesheet" href="menu.css">
</head>
<body>
    <div class="page">
        <header class="hero">
            <div class="hero-copy">
                <span class="badge">MENU LAB</span>
                <h1>오늘 뭐 먹지?</h1>
                <p>기분, 시간, 취향에 맞게 한 번에 골라주는 메뉴 추천 스튜디오.</p>
                <div class="hero-actions">
                    <button class="btn primary" id="recommend-btn">메뉴 추천 받기</button>
                    <a class="btn ghost" href="lotto.html">로또 번호 생성</a>
                </div>
            </div>
            <div class="hero-card">
                <div class="hero-card-header">
                    <span class="pill">오늘의 추천</span>
                    <span class="hero-time" id="time-slot">점심</span>
                </div>
                <h2 id="menu-title">따뜻한 순두부찌개</h2>
                <p id="menu-desc">칼칼한 국물과 부드러운 두부로 든든하게.</p>
                <div class="tag-row" id="menu-tags"></div>
                <div class="hero-card-actions">
                    <button class="btn subtle" id="reroll-btn">다시 추천</button>
                    <button class="btn outline" id="save-btn">저장하기</button>
                </div>
            </div>
        </header>

        <section class="filters">
            <div class="filter-header">
                <div class="filter-title">
                    <h3>카테고리</h3>
                    <span class="hint">버튼을 눌러 취향을 좁혀보세요.</span>
                </div>
                <button class="btn ghost small" id="ladder-open">사다리 게임</button>
            </div>
            <div class="filter-buttons" id="category-buttons">
                <button class="chip is-active" data-category="all">전체</button>
                <button class="chip" data-category="korean">한식</button>
                <button class="chip" data-category="japanese">일식</button>
                <button class="chip" data-category="chinese">중식</button>
                <button class="chip" data-category="western">양식</button>
                <button class="chip" data-category="street">분식</button>
                <button class="chip" data-category="dessert">디저트</button>
            </div>
        </section>

        <section class="menu-grid" id="menu-grid"></section>

        <section class="saved">
            <div class="saved-header">
                <h3>저장된 메뉴</h3>
                <button class="btn text" id="clear-btn">모두 비우기</button>
            </div>
            <div class="saved-list" id="saved-list">
                <p class="empty-state">아직 저장된 메뉴가 없습니다.</p>
            </div>
        </section>

        <section class="comments">
            <div class="comments-header">
                <h3>댓글</h3>
                <span class="hint">디스커스로 의견을 남겨주세요.</span>
            </div>
            <div id="disqus_thread"></div>
        </section>

        <section class="partner">
            <div class="partner-header">
                <h3>제휴 문의</h3>
                <span class="hint">간단한 정보만 남겨주시면 연락드릴게요.</span>
            </div>
            <form class="partner-form" id="partner-form" action="https://formspree.io/f/xjggbznp" method="POST">
                <label>
                    <span>이름</span>
                    <input type="text" name="name" placeholder="담당자 이름" required>
                </label>
                <label>
                    <span>이메일</span>
                    <input type="email" name="email" placeholder="contact@email.com" required>
                </label>
                <label class="span-2">
                    <span>문의 내용</span>
                    <textarea name="message" rows="4" placeholder="간단한 제휴 내용을 적어주세요." required></textarea>
                </label>
                <button class="btn primary span-2" type="submit">제휴 문의 보내기</button>
            </form>
            <p class="form-note">응답 확인을 위해 이메일을 정확히 입력해 주세요.</p>
            <p class="partner-status" id="partner-status" role="status" aria-live="polite"></p>
        </section>
    </div>

    <div class="modal" id="ladder-modal" aria-hidden="true" role="dialog" aria-modal="true">
        <div class="modal-backdrop" data-close="true"></div>
        <div class="modal-card" role="document">
            <div class="modal-header">
                <div>
                    <span class="badge">MENU LAB</span>
                    <h3 id="ladder-title">카테고리 사다리 게임</h3>
                </div>
                <button class="btn text" id="ladder-close" aria-label="사다리 게임 닫기">닫기</button>
            </div>
            <p class="modal-desc" id="ladder-desc">시작 지점을 눌러 메뉴 결과를 확인하세요.</p>
            <div class="ladder-controls">
                <button class="btn outline" id="ladder-reroll">사다리 다시 만들기</button>
            </div>
            <div class="ladder-board">
                <div class="ladder-labels ladder-top" id="ladder-top"></div>
                <canvas id="ladder-canvas" width="640" height="260"></canvas>
                <div class="ladder-labels ladder-bottom" id="ladder-bottom"></div>
            </div>
            <div class="ladder-result" id="ladder-result">결과가 여기에 표시됩니다.</div>
        </div>
    </div>

    <div class="modal result-modal" id="result-modal" aria-hidden="true" role="dialog" aria-modal="true">
        <div class="modal-backdrop" data-close="true"></div>
        <div class="modal-card result-card" role="document">
            <div class="celebration">
                <span></span><span></span><span></span><span></span><span></span><span></span>
                <span></span><span></span><span></span><span></span><span></span><span></span>
            </div>
            <div class="modal-header">
                <div>
                    <span class="badge">CONGRATS</span>
                    <h3>선택 완료!</h3>
                </div>
                <button class="btn text" id="result-close" aria-label="결과 닫기">닫기</button>
            </div>
            <div class="result-hero">
                <img id="result-image" alt="선택된 메뉴 이미지" />
                <div class="result-info">
                    <span class="pill" id="result-category">카테고리</span>
                    <h4 id="result-name">메뉴 이름</h4>
                    <p>오늘의 선택을 축하합니다. 맛있게 즐겨보세요!</p>
                </div>
            </div>
        </div>
    </div>

    <script src="menu.js"></script>
    <script>
        (function () {
            const d = document;
            const s = d.createElement('script');
            s.src = 'https://cpding.disqus.com/embed.js';
            s.setAttribute('data-timestamp', Date.now().toString());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
</body>
</html>
